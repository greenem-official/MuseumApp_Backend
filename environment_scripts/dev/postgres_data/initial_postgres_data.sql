--
-- PostgreSQL database dump
--

-- Dumped from database version 16.3 (Debian 16.3-1.pgdg120+1)
-- Dumped by pg_dump version 16.3 (Debian 16.3-1.pgdg120+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: authors; Type: TABLE; Schema: public; Owner: ivan
--

CREATE TABLE public.authors (
    id bigint NOT NULL,
    birth_year integer,
    country character varying(100),
    death_year integer,
    name character varying(100) NOT NULL
);


ALTER TABLE public.authors OWNER TO ivan;

--
-- Name: authors_id_seq; Type: SEQUENCE; Schema: public; Owner: ivan
--

ALTER TABLE public.authors ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.authors_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: collections; Type: TABLE; Schema: public; Owner: ivan
--

CREATE TABLE public.collections (
    id bigint NOT NULL,
    description text,
    end_date date,
    name character varying(100) NOT NULL,
    start_date date,
    curator_id bigint
);


ALTER TABLE public.collections OWNER TO ivan;

--
-- Name: collections_id_seq; Type: SEQUENCE; Schema: public; Owner: ivan
--

ALTER TABLE public.collections ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.collections_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: halls; Type: TABLE; Schema: public; Owner: ivan
--

CREATE TABLE public.halls (
    id bigint NOT NULL,
    description text,
    floor integer,
    name character varying(100) NOT NULL
);


ALTER TABLE public.halls OWNER TO ivan;

--
-- Name: halls_id_seq; Type: SEQUENCE; Schema: public; Owner: ivan
--

ALTER TABLE public.halls ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.halls_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: items; Type: TABLE; Schema: public; Owner: ivan
--

CREATE TABLE public.items (
    id bigint NOT NULL,
    condition character varying(50),
    description text,
    name character varying(100) NOT NULL,
    year integer,
    author_id bigint,
    collection_id bigint,
    hall_id bigint
);


ALTER TABLE public.items OWNER TO ivan;

--
-- Name: items_id_seq; Type: SEQUENCE; Schema: public; Owner: ivan
--

ALTER TABLE public.items ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.items_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: ivan
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    full_name character varying(100),
    password_hash character varying(255) NOT NULL,
    role character varying(30) NOT NULL,
    username character varying(50) NOT NULL,
    CONSTRAINT users_role_check CHECK (((role)::text = ANY ((ARRAY['ADMIN'::character varying, 'EMPLOYEE'::character varying, 'VISITOR'::character varying])::text[])))
);


ALTER TABLE public.users OWNER TO ivan;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: ivan
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: authors; Type: TABLE DATA; Schema: public; Owner: ivan
--

COPY public.authors (id, birth_year, country, death_year, name) FROM stdin;
1	1850	Россия	1912	Иван Петров
2	1878	Италия	1945	Мария Верди
3	1890	Франция	1962	Жак Моро
4	1911	Япония	1988	Хироши Такеда
5	1922	Марокко	2001	Али Хаддад
6	1905	Германия	1970	Анна Шейфер
7	1933	Россия	\N	Сергей Костин
8	1944	США	\N	Джон Милтон
9	1955	Испания	\N	Луис Мартинес
10	1968	Швеция	\N	София Куран
\.


--
-- Data for Name: collections; Type: TABLE DATA; Schema: public; Owner: ivan
--

COPY public.collections (id, description, end_date, name, start_date, curator_id) FROM stdin;
1	Работы европейских художников 18–20 вв.	\N	Европейская живопись	2010-01-01	\N
2	Материальные объекты разных цивилизаций.	\N	Артефакты древности	2015-05-10	\N
3	Скульптурные произведения разных культур.	\N	Скульптура мира	2012-09-12	\N
4	Экспонаты художников XX–XXI вв.	\N	Современные работы	2020-03-01	\N
5	Предметы, связанные с событиями истории.	\N	Историческое наследие	2008-11-20	\N
\.


--
-- Data for Name: halls; Type: TABLE DATA; Schema: public; Owner: ivan
--

COPY public.halls (id, description, floor, name) FROM stdin;
1	Центральный зал постоянной экспозиции.	1	Главный зал
2	Зал, посвящённый живописным работам.	2	Галерея живописи
3	Экспонаты материальной культуры разных эпох.	1	Зал артефактов
4	Скульптуры из камня, бронзы и дерева.	2	Зал скульптуры
5	Экспозиции по мировой истории.	3	Исторический зал
\.


--
-- Data for Name: items; Type: TABLE DATA; Schema: public; Owner: ivan
--

COPY public.items (id, condition, description, name, year, author_id, collection_id, hall_id) FROM stdin;
1	Хорошее	Античная керамика	Амфора	1821	1	2	3
2	Отличное	Масляная живопись XIX века	Портрет девушки	1905	2	1	2
3	Удовлетворительное	Миниатюрная бронзовая скульптура	Статуэтка	1750	3	3	4
4	Хорошее	Фрагмент настенной живописи	Фреска	1684	4	1	2
5	Отличное	Декоративный элемент из серебра	Медальон	1922	5	5	5
6	Удовлетворительное	Тканевое панно с узорами	Гобелен	1604	6	1	1
7	Хорошее	Пейзажная живопись XIX века	Картина пейзажа	1889	7	1	2
8	Отличное	Современная керамика	Ваза	1991	8	2	3
9	Хорошее	Каменная декоративная скульптура	Скульптура льва	1710	9	3	4
10	Удовлетворительное	Исторический артефакт	Реликвия	1866	10	5	5
11	Хорошее	Украшение древности	Амулет	1901	1	2	1
12	Отличное	Современный масляный портрет	Портрет мужчины	1975	2	1	2
13	Удовлетворительное	Коллекционное оружие	Кинжал	2005	3	5	3
14	Хорошее	Рельефная композиция	Барельеф	1830	4	3	4
15	Отличное	Антикварные механические часы	Часы настенные	1678	5	5	5
16	Удовлетворительное	Серебряный трофей	Кубок	1918	6	5	1
17	Хорошее	Декоративное настенное панно	Панно	1950	7	1	2
18	Отличное	Традиционная маска	Маска	1765	8	2	3
19	Хорошее	Деревянная скульптура	Резная фигурка	1650	9	3	4
20	Удовлетворительное	Антикварная книга	Книга редкая	1877	10	4	5
21	Отличное	Бронзовый бюст	Бюст	1944	1	3	1
22	Хорошее	Живописная панорама	Панорама	1890	2	1	2
23	Удовлетворительное	Греческая керамика	Амфора керамическая	1633	3	2	3
24	Хорошее	Деревянная миниатюра	Фигурка животного	1789	4	3	4
25	Отличное	Современная живопись	Современный портрет	1999	5	1	5
26	Удовлетворительное	Историческая монета	Монета	1810	6	5	1
27	Хорошее	Живописная работа XIX века	Картина маслом	1884	7	1	2
28	Отличное	Современный декоративный сосуд	Сосуд	2010	8	2	3
29	Хорошее	Коллекционная фигурка	Фигурка героя	1794	9	3	4
30	Удовлетворительное	Антикварный трофей	Кубок золотой	1648	10	5	5
31	Хорошее	Памятная медаль	Медаль	1855	1	5	1
32	Отличное	Малый живописный формат	Миниатюра	1912	2	1	2
33	Удовлетворительное	Антикварная статуэтка	Керамическая статуэтка	1699	3	2	3
34	Хорошее	Барельефное изображение	Рельефная работа	1740	4	3	4
35	Отличное	Скульптура XX века	Современная скульптура	1984	5	3	5
36	Удовлетворительное	Античная керамика	Керамический кувшин	1662	6	2	1
37	Хорошее	Масляная живопись	Портрет известного	1925	7	1	2
38	Отличное	Бронзовая миниатюра	Фигурка из бронзы	1870	8	3	3
39	Хорошее	Керамическая ваза	Декоративная ваза	1630	9	2	4
40	Удовлетворительное	Антикварное издание	Раритетная книга	1958	10	4	5
41	Хорошее	Бронзовый бюст XIX века	Бюст вождя	1820	1	3	1
42	Отличное	Современный пейзаж	Картина реки	1990	2	1	2
43	Удовлетворительное	Деревянная миниатюра	Фигурка рыцаря	1714	3	2	3
44	Хорошее	Барельеф XIX века	Рельефное панно	1859	4	3	4
45	Отличное	Современная живопись	Современный портрет	2003	5	1	5
46	Удовлетворительное	Керамический артефакт	Кувшин античный	1681	6	2	1
47	Хорошее	Масляная живопись XX века	Картина натюрморт	1933	7	1	2
48	Отличное	Бронзовая скульптура	Статуя героя	1780	8	3	3
49	Хорошее	Керамическая ваза	Ваза декоративная	1642	9	2	4
50	Удовлетворительное	Антикварное издание	Редкая книга	1966	10	4	5
51	Хорошее	Памятная медаль	Медаль золотая	1881	1	5	1
52	Отличное	Современный маленький портрет	Миниатюра портрета	1977	2	1	2
53	Удовлетворительное	Керамическая миниатюра	Статуэтка амфоры	1703	3	2	3
54	Хорошее	Рельефная композиция	Барельеф с животным	1758	4	3	4
55	Отличное	Современная бронза	Скульптура современная	2008	5	3	5
56	Удовлетворительное	Антикварный трофей	Кубок серебряный	1675	6	5	1
57	Хорошее	Масляная живопись XX века	Портрет девушки	1917	7	1	2
58	Отличное	Бронзовая миниатюра	Фигурка льва	1862	8	3	3
59	Хорошее	Керамика XVII века	Ваза старинная	1639	9	2	4
60	Удовлетворительное	Антикварное издание	Редкая книга	1949	10	4	5
61	Хорошее	Пейзажная живопись	Картина ночи	1833	1	1	1
62	Отличное	Современный портрет	Портрет мужчины	1994	2	1	2
63	Удовлетворительное	Деревянная миниатюра	Статуэтка животного	1718	3	2	3
64	Хорошее	Рельеф XIX века	Барельеф исторический	1898	4	3	4
65	Отличное	Масляная живопись XXI века	Современный пейзаж	2001	5	1	5
66	Удовлетворительное	Керамика античная	Амфора древняя	1622	6	2	1
67	Хорошее	Масляная живопись XX века	Портрет известного	1962	7	1	2
68	Отличное	Бронзовая скульптура	Статуя животного	1783	8	3	3
69	Хорошее	Антикварная керамика	Ваза керамическая	1659	9	2	4
70	Удовлетворительное	Книга коллекционная	Редкое издание	1955	10	4	5
71	Хорошее	Серебряная медаль	Медаль памятная	1840	1	5	1
72	Отличное	Современный маленький портрет	Миниатюра портрета	1988	2	1	2
73	Удовлетворительное	Керамическая миниатюра	Статуэтка древняя	1708	3	2	3
74	Хорошее	Рельефная композиция	Барельеф декоративный	1790	4	3	4
75	Отличное	Скульптура XXI века	Современный бюст	2015	5	3	5
76	Удовлетворительное	Серебряный трофей	Кубок старинный	1874	6	5	1
77	Хорошее	Масляная живопись XX века	Портрет девушки	1939	7	1	2
78	Отличное	Бронзовая миниатюра	Фигурка героя	1666	8	3	3
79	Хорошее	Керамическая ваза	Ваза декоративная	1803	9	2	4
80	Удовлетворительное	Антикварное издание	Редкая книга	1969	10	4	5
81	Хорошее	Рельефная композиция	Барельеф декоративный	1790	4	3	4
82	Отличное	Скульптура XXI века	Современный бюст	2015	5	3	5
83	Удовлетворительное	Серебряный трофей	Кубок старинный	1874	6	5	1
84	Хорошее	Масляная живопись XX века	Портрет девушки	1939	7	1	2
85	Отличное	Бронзовая миниатюра	Фигурка героя	1666	8	3	3
86	Хорошее	Керамическая ваза	Ваза декоративная	1803	9	2	4
87	Удовлетворительное	Антикварное издание	Редкая книга	1969	10	4	5
88	Хорошее	Пейзаж XIX века	Картина леса	1825	1	1	1
89	Отличное	Современная живопись	Портрет юноши	1980	2	1	2
90	Удовлетворительное	Деревянная миниатюра	Фигурка воина	1720	3	2	3
91	Хорошее	Рельеф XIX века	Барельеф мифологический	1802	4	3	4
92	Отличное	Современная живопись	Современный натюрморт	2012	5	1	5
93	Удовлетворительное	Керамика древности	Амфора античная	1618	6	2	1
94	Хорошее	Масляная живопись XX века	Портрет женщины	1958	7	1	2
95	Отличное	Бронзовая скульптура	Статуя льва	1775	8	3	3
96	Хорошее	Керамика XVII века	Ваза художественная	1645	9	2	4
97	Удовлетворительное	Антикварное издание	Редкая книга	1933	10	4	5
98	Хорошее	Золотая памятная медаль	Медаль памятная	1850	1	5	1
99	Отличное	Современный маленький портрет	Миниатюра портрета	1995	2	1	2
100	Удовлетворительное	Керамическая миниатюра	Статуэтка амфоры	1710	3	2	3
101	Хорошее	Рельефная композиция	Барельеф с птицей	1765	4	3	4
102	Отличное	Скульптура XXI века	Современный бюст	2018	5	3	5
103	Удовлетворительное	Антикварный трофей	Кубок серебряный	1688	6	5	1
104	Хорошее	Масляная живопись XX века	Портрет молодого человека	1924	7	1	2
105	Отличное	Бронзовая миниатюра	Фигурка льва	1868	8	3	3
106	Хорошее	Керамика XVII века	Ваза старинная	1632	9	2	4
107	Удовлетворительное	Книга коллекционная	Редкое издание	1952	10	4	5
108	Хорошее	Пейзажная живопись XIX века	Картина моря	1838	1	1	1
109	Отличное	Современный портрет	Портрет девочки	1999	2	1	2
110	Удовлетворительное	Деревянная миниатюра	Статуэтка животного	1725	3	2	3
111	Хорошее	Рельеф XIX века	Барельеф исторический	1805	4	3	4
112	Отличное	Масляная живопись XXI века	Современный пейзаж	2005	5	1	5
113	Удовлетворительное	Керамика античная	Амфора древняя	1625	6	2	1
114	Хорошее	Масляная живопись XX века	Портрет известного	1965	7	1	2
115	Отличное	Бронзовая скульптура	Статуя животного	1785	8	3	3
116	Хорошее	Керамическая ваза	Ваза декоративная	1660	9	2	4
117	Удовлетворительное	Книга коллекционная	Редкое издание	1958	10	4	5
118	Хорошее	Серебряная медаль	Медаль памятная	1845	1	5	1
119	Отличное	Современный маленький портрет	Миниатюра портрета	2000	2	1	2
120	Удовлетворительное	Керамическая миниатюра	Статуэтка древняя	1712	3	2	3
121	Хорошее	Рельефная композиция	Барельеф декоративный	1795	4	3	4
122	Отличное	Скульптура XXI века	Современный бюст	2020	5	3	5
123	Удовлетворительное	Серебряный трофей	Кубок старинный	1878	6	5	1
124	Хорошее	Масляная живопись XX века	Портрет девушки	1945	7	1	2
125	Отличное	Бронзовая миниатюра	Фигурка героя	1670	8	3	3
126	Хорошее	Керамическая ваза	Ваза декоративная	1808	9	2	4
127	Удовлетворительное	Антикварное издание	Редкая книга	1972	10	4	5
128	Хорошее	Пейзажная живопись XIX века	Картина гор	1845	1	1	1
129	Отличное	Современный портрет	Портрет мальчика	2002	2	1	2
130	Удовлетворительное	Деревянная миниатюра	Фигурка рыцаря	1730	3	2	3
131	Хорошее	Рельеф XIX века	Барельеф с растениями	1810	4	3	4
132	Отличное	Современная живопись	Современный натюрморт	2016	5	1	5
133	Удовлетворительное	Керамика древности	Амфора античная	1630	6	2	1
134	Хорошее	Масляная живопись XX века	Портрет женщины	1970	7	1	2
135	Отличное	Бронзовая скульптура	Статуя льва	1788	8	3	3
136	Хорошее	Керамика XVII века	Ваза художественная	1648	9	2	4
137	Удовлетворительное	Антикварное издание	Редкая книга	1936	10	4	5
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: ivan
--

COPY public.users (id, full_name, password_hash, role, username) FROM stdin;
1	Ivan Ivanov	$2a$10$ZQ/pnYBQtDnGUft2znmgFuV7BmHjll6dINmJO/0cdGTvNBDvRp9W6	VISITOR	ivan
3	a	$2a$10$2vSvqlE3.dGO9RZDGZoRvugvIssDVpvqrkGyH9Mfo1zU6PX7ml9z6	VISITOR	a
4	b	$2a$10$GJOrO262cThvfW8Fws/wZuulwufG0uoe4ir1XOvjYYLt.umMiR5/u	ADMIN	b
\.


--
-- Name: authors_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ivan
--

SELECT pg_catalog.setval('public.authors_id_seq', 1, false);


--
-- Name: collections_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ivan
--

SELECT pg_catalog.setval('public.collections_id_seq', 1, false);


--
-- Name: halls_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ivan
--

SELECT pg_catalog.setval('public.halls_id_seq', 1, false);


--
-- Name: items_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ivan
--

SELECT pg_catalog.setval('public.items_id_seq', 137, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ivan
--

SELECT pg_catalog.setval('public.users_id_seq', 4, true);


--
-- Name: authors authors_pkey; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.authors
    ADD CONSTRAINT authors_pkey PRIMARY KEY (id);


--
-- Name: collections collections_pkey; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.collections
    ADD CONSTRAINT collections_pkey PRIMARY KEY (id);


--
-- Name: halls halls_pkey; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.halls
    ADD CONSTRAINT halls_pkey PRIMARY KEY (id);


--
-- Name: items items_pkey; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT items_pkey PRIMARY KEY (id);


--
-- Name: users ukr43af9ap4edm43mmtq01oddj6; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: items fk5ag46yonscj6pwpgrahdi66xl; Type: FK CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT fk5ag46yonscj6pwpgrahdi66xl FOREIGN KEY (collection_id) REFERENCES public.collections(id);


--
-- Name: items fk5equhs8u2uc4qgc0w1d6656vd; Type: FK CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT fk5equhs8u2uc4qgc0w1d6656vd FOREIGN KEY (author_id) REFERENCES public.authors(id);


--
-- Name: items fk78959ph4e1s41jp7gde0raf4; Type: FK CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT fk78959ph4e1s41jp7gde0raf4 FOREIGN KEY (hall_id) REFERENCES public.halls(id);


--
-- Name: collections fkg2qlenhe7uvj7gqbnbt5gcssd; Type: FK CONSTRAINT; Schema: public; Owner: ivan
--

ALTER TABLE ONLY public.collections
    ADD CONSTRAINT fkg2qlenhe7uvj7gqbnbt5gcssd FOREIGN KEY (curator_id) REFERENCES public.users(id);


--
-- PostgreSQL database dump complete
--

